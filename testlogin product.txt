import pytest
from selenium import webdriver
from pages.login_page import LoginPage

@pytest.fixture
def setup():
    driver = webdriver.Chrome()
    driver.get("http://136.115.237.98:3000/login")
    yield driver
    driver.quit()

def test_valid_login(setup):
    login = LoginPage(setup)
    login.login("valid_user", "valid_pass")
    assert "dashboard" in setup.current_url

def test_invalid_login(setup):
    login = LoginPage(setup)
    login.login("wrong", "wrong")
    assert "Invalid credentials" in login.get_error()